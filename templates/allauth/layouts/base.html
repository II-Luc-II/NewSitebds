{% load static %}
{% load i18n %}
{% load crispy_forms_tags %}

<!doctype html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>{% block title %}BDS | Bélier Développement Solution | Développeur Aoste{% endblock %}</title>
	<meta name="description"
	      content="Bélier Développement Solution, Développeur Fullstack et Backend basé en Isère, Rhône-Alpes. Spécialisé dans Python et Django. Création de sites web et applications pour les entreprises de la région d'Aoste et aux alentours.">
	<meta name="keywords"
	      content="développeur Fullstack, développeur Backend, Python, Django, Isère, Aoste, Rhône-Alpes, site web, application, développement web, développement d'applications">
	<script src="https://cdnapp.websitepolicies.net/widgets/cookies/pkb2kuc4.js" defer></script>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	      rel="stylesheet"
	      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	      crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Charts.js Code -->
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<!-- End Charts.js Code -->

	<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
	<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

	<link rel="icon" href="{% static 'images/img-accueil/favicon.ico' %}">

	<!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Montserrat:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
	      rel="stylesheet">
	<link href="https://fonts.cdnfonts.com/css/ellipsoideogram" rel="stylesheet">
	<link href="https://fonts.cdnfonts.com/css/arial-narrow-7" rel="stylesheet">

	<!-- Vendor CSS Files -->
	<link href="/static/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
	<link href="/static/assets/vendor/icofont/icofont.min.css" rel="stylesheet">
	<link href="/static/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
	<link href="/static/assets/vendor/venobox/venobox.css" rel="stylesheet">
	<link href="/static/assets/vendor/remixicon/remixicon.css" rel="stylesheet">
	<link href="/static/assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
	<link href="/static/assets/vendor/aos/aos.css" rel="stylesheet">

	{% block link %}{% endblock %}
	<!-- Template Main CSS File -->
	<link href="/static/assets/css/account.css" rel="stylesheet">
	<link href="/static/assets/css/style.css" rel="stylesheet">
</head>
<body>

<!-- Up-pages  -->
<div id="up-pages"></div>

<!-- Navbar  -->
{% include "partials/header.html" %}


<!-- Messages  -->
{% block body %}
	<section id="hero">
		<svg class="hero-waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
		     viewBox="0 24 150 28 " preserveAspectRatio="none">
			<defs>
				<path id="wave-path" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z">
			</defs>
			<g class="wave1">
				<use xlink:href="#wave-path" x="50" y="3" fill="rgba(255,255,255, .1)">
			</g>
			<g class="wave2">
				<use xlink:href="#wave-path" x="50" y="0" fill="rgba(255,255,255, .2)">
			</g>
			<g class="wave3">
				<use xlink:href="#wave-path" x="50" y="9" fill="#fff">
			</g>
		</svg>

	</section>
	{% if messages %}
		<div class="toast align-items-center text-white bg-success bg-border-0 show" role="alert">
			<div class="d-flex">
				<strong>{% trans "Messages:" %}</strong>
				<ul>
					{% for message in messages %}
						<li>{{ message }}</li>{% endfor %}
				</ul>
			</div>
		</div>
	{% endif %}

	<div class="container min-vh-100">
	<div class="text-center mt-5 p-2">
	<div>
		<strong>{% trans "Menu:" %}</strong>
		<ul>
			<li>
				<!-- Logo  -->
				{% if logo.image.url %}
					<img src="{{ logo.image.url }}" alt="logo-Yoga38" width="80">
				{% endif %}
			</li>
			{% if user.is_authenticated %}
				{% url 'account_email' as email_url_ %}
				{% if email_url_ %}
					<li>
						<a href="{{ email_url_ }}">{% trans "Change Email" %}</a>
					</li>
				{% endif %}
				{% url 'account_change_password' as change_password_url_ %}
				{% if change_password_url_ %}
					<li>
						<a href="{{ change_password_url_ }}">{% trans "Change Password" %}</a>
					</li>
				{% endif %}
				{% url 'socialaccount_connections' as connections_url_ %}
				{% if connections_url_ %}
					<li>
						<a href="{{ connections_url_ }}">{% trans "Account Connections" %}</a>
					</li>
				{% endif %}
				{% url 'mfa_index' as mfa_url_ %}
				{% if mfa_url_ %}
					<li>
						<a href="{{ mfa_url_ }}">{% trans "Two-Factor Authentication" %}</a>
					</li>
				{% endif %}
				{% url 'usersessions_list' as usersessions_list_url_ %}
				{% if usersessions_list_url_ %}
					<li>
						<a href="{{ usersessions_list_url_ }}">{% trans "Sessions" %}</a>
					</li>
				{% endif %}
				{% url 'account_logout' as logout_url_ %}
				{% if logout_url_ %}
					<li>
						<a href="{{ logout_url_ }}">{% trans "Sign Out" %}</a>
					</li>
				{% endif %}
			{% else %}
				{% url 'account_login' as login_url_ %}
				{% if login_url_ %}
					<li>
						<a href="{{ login_url_ }}">{% trans "Sign In" %}</a>
					</li>
				{% endif %}
				{% url 'account_signup' as signup_url_ %}
				{% if signup_url_ %}
					<li>
						<a href="{{ signup_url_ }}">{% trans "Sign Up" %}</a>
					</li>
				{% endif %}
			{% endif %}
		</ul>
	</div>
	<div class="card p-5 rounded-5 col-md-6 offset-md-3 account-card shadow">
	{% block content %}
	{% endblock content %}
{% endblock body %}
{% block extra_body %}
{% endblock extra_body %}


</div>
<div class="row py-5 text-gray text-center">
	<p>{{ info_legacy.description | safe }}</p>
</div>
<!-- Script eyes password  -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        function createPasswordToggle(passwordField) {
            // Créer un conteneur pour le champ et l'icône
            let wrapper = document.createElement("div");
            wrapper.style.position = "relative";
            wrapper.style.display = "inline-block";
            wrapper.style.width = "100%";

            // Insérer l'input dans le wrapper
            passwordField.parentNode.insertBefore(wrapper, passwordField);
            wrapper.appendChild(passwordField);

            // Appliquer un style élargi à l'input
            passwordField.style.width = "100%";
            passwordField.style.paddingRight = "40px";
            passwordField.style.boxSizing = "border-box";

            // Créer l'icône Bootstrap
            let toggleIcon = document.createElement("i");
            toggleIcon.classList.add("bi", "bi-eye-slash"); // Icône de base
            toggleIcon.style.position = "absolute";
            toggleIcon.style.right = "10px";
            toggleIcon.style.top = "50%";
            toggleIcon.style.transform = "translateY(-50%)";
            toggleIcon.style.cursor = "pointer";
            toggleIcon.style.fontSize = "18px";
            toggleIcon.style.color = "#555"; // Couleur de l'icône

            // Ajouter l'icône dans le wrapper
            wrapper.appendChild(toggleIcon);

            // Gérer le clic pour afficher/masquer le mot de passe
            toggleIcon.addEventListener("click", function () {
                if (passwordField.type === "password") {
                    passwordField.type = "text";
                    toggleIcon.classList.replace("bi-eye-slash", "bi-eye"); // Changer l'icône
                } else {
                    passwordField.type = "password";
                    toggleIcon.classList.replace("bi-eye", "bi-eye-slash"); // Remettre l'icône initiale
                }
            });
        }

        // Appliquer la fonction aux deux champs
        let passwordField = document.getElementById("id_password");
        let password2Field = document.getElementById("id_password2");
        let password1Field = document.getElementById("id_password1");
        let passwordOldField = document.getElementById("id_oldpassword");

        if (passwordField) createPasswordToggle(passwordField);
        if (password2Field) createPasswordToggle(password2Field);
        if (password1Field) createPasswordToggle(password1Field);
        if (passwordOldField) createPasswordToggle(passwordOldField);
    });
</script>
</div>
</div>

{% include "partials/footer.html" %}

<script src="{% static 'js/bs-init.js' %}"></script>
<script src="{% static 'js/main.js' %}"></script>
<script src="{% static 'htmx/htmx.min.js' %}"></script>
</body>
</html>
