{% load static %}
{% load widget_tweaks %}

<!-- ======= Footer ======= -->
<footer id="footer">
	<div class="footer-top">
		<div class="container">
			<div class="row">

				<div class="col-lg-4 col-md-6">
					<div class="footer-info">
						<h3>
						<img src="{% static 'images/img-accueil/BLANC-ICON.svg' %}"
						     alt="Logo-bds"
						     height="50"
						>
						BDS
						</h3>
						<strong>Téléphone:</strong> 06 73 21 22 72<br>
						<strong>Email:</strong> contact@bds38.com<br>

						<div class="social-links mt-3">
							<a href="https://www.facebook.com/BDS.EI/" class="facebook"><i class="bx bxl-facebook"></i></a>
							<a href="https://www.instagram.com/luc.belier/" class="instagram"><i
									class="bx bxl-instagram"></i></a>
							<a href="https://www.linkedin.com/in/luc-belier-4a582828b/" class="linkedin"><i
									class="bx bxl-linkedin"></i></a>
							<a href="https://github.com/II-Luc-II/" class="linkedin"><i class="bx bxl-github"></i></a>
							<a href="https://discord.com/channels/1235925566432215111/1235925566964764723"
							   class="linkedin"><i class="bx bxl-discord"></i></a>
						</div>
					</div>
				</div>

				<div class="col-lg-4 col-md-6 footer-links text-center">
					<h4>Plan du site</h4>
					<ul class="list-unstyled d-flex flex-column align-items-center">
						<li><i class="bx bx-chevron-right"></i> <a href="{% url 'index' %}">Accueil</a></li>
						<li><i class="bx bx-chevron-right"></i> <a href="/#about">A-propos</a></li>
						<li><i class="bx bx-chevron-right"></i> <a href="/#features">Les solutions</a></li>
						<li><i class="bx bx-chevron-right"></i> <a href="{% url 'contact' %}">Contact</a></li>
						<li><i class="bx bx-chevron-right"></i>
							<a href="#polycy-Modal" data-bs-toggle="modal" data-bs-target="#polycy-Modal">Privacy
								policy</a>
						</li>
					</ul>
				</div>


				<div class="col-lg-4 col-md-6" id="newsletter">
					<h4>La Newsletter</h4>

					<form action="{% url 'add-news-letter' %}" method="post" novalidate id="newsletter-form"
					      class="footer-info">
						{% csrf_token %}

						<div class="mb-3">
							{{ form_news.email.errors }}
							<label for="{{ form.email.id_for_label }}" class="form-label text-white">Votre adresse
								email</label>
							{{ form_news.email|add_class:"form-control bg-light border-0 shadow-sm" }}
						</div>

						<div class="mb-3 d-none" id="captcha-container">
							{{ form_news.captcha.errors }}
							<label for="{{ form.captcha.id_for_label }}" class="form-label text-white">
								Merci de saisir les lettres ci-dessous
							</label>
							<div class="d-flex align-items-center gap-3">
								{{ form_news.captcha }}
							</div>
						</div>

						<div class="d-grid">
							<button type="submit" class="btn btn-warning btn-sm">
								<i class="bi bi-envelope-check me-1"></i>
								S'inscrire
							</button>
						</div>
					</form>
				</div>

			</div>
		</div>
	</div>

	<div class="container">
		<div class="copyright">
			&copy; Copyright <strong><span>bds38.com</span></strong>
		</div>
	</div>

</footer>
<!-- End Footer -->

<!-- Modal -->
<div class="modal fade" id="polycy-Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Politique de confidentialité du Site BDS</h5>
				 <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<h1 class="text-start text-center">{{ policy.titre }}</h1>

			<div>{{ policy.description | safe }}</div>

			<footer>
				<hr>
				<p>Dernière mise à jour : {{ policy.created_at }}</p>
				<hr>
			</footer>
			<div class="modal-footer">
				<a href="{% url "index" %}" class="btn btn-general">
					Retour
				</a>
			</div>
		</div>
	</div>
</div>

<a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>
<div id="preloader"></div>

<script src="https://cdn.jsdelivr.net/npm/@ckeditor/ckeditor5-build-classic@41.2.1/build/ckeditor.min.js"></script>
<script>
    const textareaElements = document.querySelectorAll('textarea');

    textareaElements.forEach(editor => {
        editor.removeAttribute('required');
        ClassicEditor
            .create(editor)
            .catch(error => {
                console.error(error);
            });
    });
</script>

<!-- pop-over contact -->
<script>
    const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]')
    const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))
</script>

<!-- Vendor JS Files -->
<script src="{% static 'assets/vendor/jquery/jquery.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'assets/vendor/jquery.easing/jquery.easing.min.js' %}"></script>
<script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>
<script src="{% static 'assets/vendor/venobox/venobox.min.js' %}"></script>
<script src="{% static 'assets/vendor/waypoints/jquery.waypoints.min.js' %}"></script>
<script src="{% static 'assets/vendor/counterup/counterup.min.js' %}"></script>
<script src="{% static 'assets/vendor/owl.carousel/owl.carousel.min.js' %}"></script>
<script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const emailInput = document.querySelector('#id_email');  // identifiant Django du champ email
        const captchaContainer = document.getElementById('captcha-container');

        if (emailInput) {
            emailInput.addEventListener('input', function () {
                if (emailInput.value.trim().length > 3) {
                    captchaContainer.classList.remove('d-none');
                } else {
                    captchaContainer.classList.add('d-none');
                }
            });
        }
    });
</script>

<script>
	// Tooltip
	document.addEventListener("DOMContentLoaded", function () {
	    let tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
	    let tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
	        return new bootstrap.Tooltip(tooltipTriggerEl);
	    });
	});
</script>

<!-- Template Main JS File -->
<script src="{% static 'assets/js/main.js' %}"></script>
<!-- Google Tag Manager (noscript) -->
<noscript>
	<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MM3RM54R"
	        height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->
</body>

</html>